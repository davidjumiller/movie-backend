name: CI/CD pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches: [main]
    types: [opened, synchronize]

jobs:
  Build-Test:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v2
        with:
          node-version: '16'
      - name: npm install
        run: npm install
  # Deploy:
  #   runs-on: ubuntu-22.04
  #   needs: [Build-Test]
  #   steps:
  #     - uses: actions/checkout@v3
  #     - if: ${{ github.event_name == 'push' }}
  #       name: Deploy to Heroku
  #       uses: AkhileshNS/heroku-deploy@v3.12.12
  #       with:
  #         heroku_api_key: ${{secrets.HEROKU_API_KEY}}
  #         heroku_app_name: ""
  #         heroku_email: "davidjumiller@gmail.com"
  #         healthcheck: "/health"
  #         rollbackonhealthcheckfailed: true
